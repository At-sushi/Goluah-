<html>
<head>
<link rel="stylesheet" type="text/css" href="style.css">

<title></title>

</head>

<body>

<p class=midasi>キャラクターDLL作成・概要</p>
<p class=nakami>
　キャラクターのアニメーションや攻撃力設定等はプログラムにより行います。システムはキャラクターフォルダのaction.dllを実行時にロードし、キャラクター(および、飛び道具等の付属オブジェクト)の動作時にDLLの関数を呼び出します。<br>

<br>
　キャラクタのDLLはDLLテンプレートから作ってください。<br>
　DLLテンプレートには以下のファイルが含まれます<br>
<br>
　<b>gobject.h</b><br>
　<b>define_gcd.h</b><br>
　　変更してはいけません。本体実行ファイル側とのインターフェイスとなる各種構造体や定数の定義がなされています。それぞれの詳細に関しては適宜リファレンスを参照してください。<br>

<br>

　<b>gobjbase.h</b><br>
　<b>gobjbase.cpp</b><br>
　　通常変更してはいけません。ここで定義されているクラスに関しては<a href=../doxy_docs/group_GObjectBase.html>クラスリファレンス</a>を参照してください。<br>
　　ここで定義・実装されたクラスから派生して個々のキャラクターを作ります。<br>
<br>

　<b>character.def</b><br>
　DLLから外部に関数をexportするための定義ファイルです。いじる必要は多分ありません。<br>

<br>

　<b>character.h</b><br>
　<b>character.cpp</b><br>
　<b>action.cpp</b><br>
　このファイルをいじります。character.hで基本的なキャラクタークラス定義をしています。このクラスをいじくりまわして自分のキャラクターを作ってください。<br>

<br>
</p>

<p class=midasi2>概念図(?)</p>
<p align=center><img src="./images/gainen.png"></p>
<p class=nakami>
　というわけで、上がなんか概念図みたいなものです。<br>
　一番の基本になるのは gobject.h です。gobjbase.h/cpp はそれをより便利に使うためのクラス定義で、これらのクラスの使用は本来は任意です。が、ここからの説明はgobjbase.h/cppを変更せずにそのまま使うことを前提に説明を行います。<br>
<br>
</p>



<p class=midasi>必要となる言語的な知識</p>
<p class=nakami2>
　開発するために必要となるC/C++の言語知識はおおむね以下の通りです：<br>
(C) : 変数、関数<br>
(C) : #define , #include マクロ等の基本的なプリプロセス<br>
(C) : ビット単位での整数値の演算<br>
(C) : 構造体<br>
(C) : 配列<br>
(C) : ポインタ、関数ポインタ<br>
(C?) : コンパイル、リンク、ライブラリ<br>
(C++) : クラス<br>
(C++) : クラスの継承<br>
(C++) : 関数のオーバーライド<br>
　一口に「必要」といっても、程度の差がかなりありますが、少なくともちょっとググって出てくる程度の予備知識はもっていたほうがいいでしょう。
その後は必要に応じて追加で調べて知識を補充してください。
</p>



<!--
<p class=midasi>BCC プロジェクト設定</p>

<p class=midasi2>BCC と BCCDeveloper</p>
<p class=nakami2>
　多くの人がBCCを使ってるようです。タダだから。<br>
<br>
　とりあえずちょっといじってみたいという人向けに説明しておくと、ソースコードからプログラム（実行可能ファイルやDLL）を作成するには、C++の場合、コンパイルとリンクという作業が必要です。<br>
　コンパイルは、ソースコードをコンピュータへの命令のコードに置き換える(翻訳する)作業です。これで、オブジェクトファイルって言う命令の固まりみたいなファイルが生成されます。<br>
　リンクはコンパイルしてできたオブジェクトファイルを結合して、実行可能ファイルを生成する作業です。オブジェクトファイルは1つのソースコードにつきひとつ作られるのでソースコードを複数のファイルに分けている場合はもちろんですが、それ以外にもライブラリって奴をくっつけなければなりません。当然、ひとつプログラムを作るごとにあらゆる機能を自前で記述することは不可能なので、いろんな機関からいろんな機能を持つライブラリが提供されています。例えばCの標準関数を使っていたらコンパイラ・リンカのメーカーが提供しているライブラリをリンクしなきゃいけなかったり、ＤｉｒｅｃｔXの機能を使っていたらDirectXのライブラリをリンクしなければいけなかったりします。どのファイルのリンクが必要なのか？の設定はリンカによって違いますが、自分のソースコードで使ってる機能(関数やクラス)の実体が入っているライブラリをちゃんとリンクする設定にしないと、エラー出るということは覚えておいてください。<br>
<br>
　以上のことを踏まえて、BCCではCUIのコンパイラとリンカが提供されてるみたいです。普通に(?)使おうと思ったら、コマンドプロンプト（Win98より前だとDOS窓）を開いて、コマンドラインから コンパイルするソースファイルを指定して、出力するオブジェクトファイルを指定して、ヘッダファイルのインクルードパスを指定して・・・全部コンパイル。続いて出来上がった全部のオブジェクトファイルとライブラリファイルを指定して、ライブラリファイルがある場所も指定してリンク。<br>
　はっきりいってめんどくさいです。<br>
　そのためにあるのが統合環境というやつです。統合環境はコンパイラ・リンカ・エディタなど、もろもろの機能がくっついたソフトウェアです。統合環境では必要なソースコードのリストとコンパイル・リンクに必要なもろもろ設定が入ってる「プロジェクト」を作成します。あとはボタンひとつで自動的に実行ファイルの出来上がり。エラーがなければ。(普通、コンパイル+リンクでソースコードから実行ファイルを生成するまでの作業をビルドというみたいです)<br>
　幸いこれも無料で利用できるものがあります。BCC Developerってやつ。ありがたやありがたや。BCC Developerを使えばわざわざコマンドラインからコンパイルやリンクをしなくてもすみます。でも、ビルドの過程で コンパイル・リンク作業中に中の人ががんばっているということを忘れちゃいけません。<br>
<br>
ダウンロードはこちら：<br>
<br>
BCC<br>
http://www.borland.co.jp/cppbuilder/freecompiler/index.html<br>
<br>
BCC Developer<br>
http://www.vector.co.jp/soft/win95/prog/se180695.html<br>
<br>
</p>


<p class=midasi2>setbcc と Turbo Debugger</p>
<p class=nakami2>
　BCCを利用するために、パスの設定が必要です。
</p>

-->

<hr><p align="center"><a href="../index.html">もどる</a></p>
</body>
