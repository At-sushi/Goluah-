<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<TITLE></TITLE>
</HEAD>
<BODY>
</BODY>
</HTML>
<!-- Generated by Doxygen 1.2.0 on Sun Apr 18 18:28:05 2004 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>gobjbase.h</h1><a href="gobjbase.h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00015 <font class="preprocessor">#pragma once
</font>00016 <font class="preprocessor"></font>
00021 
00022 <font class="preprocessor">#include "<a class="code" href="gobject.h.html">gobject.h</a>"</font><font class="comment">//GOLUAH DLLインターフェイス定義</font>
00023 
00024 <font class="comment">//ビルド設定</font>
00025 
00026 <font class="preprocessor">#ifdef COMMONDLL_C100_EXPORTS
</font>00027 <font class="preprocessor"></font>    <font class="comment">//共通DLLをビルドする場合</font>
00028 <font class="preprocessor">#ifndef USE_DIRECT3D_DIRECT
</font>00029 <font class="preprocessor"></font><font class="preprocessor">#error
</font>00030 <font class="preprocessor"></font><font class="preprocessor">#endif
</font>00031 <font class="preprocessor"></font><font class="preprocessor">#define RUNTIME_EXPORT __declspec(dllexport)
</font>00032 <font class="preprocessor"></font><font class="preprocessor">#else
</font>00033 <font class="preprocessor"></font>    <font class="comment">//共通DLLを利用するキャラクタDLLを作成する場合</font>
00034 <font class="preprocessor">#ifdef USE_GOLUAH_COMMON_DLL
</font>00035 <font class="preprocessor"></font><font class="preprocessor">#pragma comment(lib, "goluah_c100.lib")
</font>00036 <font class="preprocessor"></font><font class="preprocessor">#define RUNTIME_BUILD_OFF
</font>00037 <font class="preprocessor"></font><font class="preprocessor">#else
</font>00038 <font class="preprocessor"></font>    <font class="comment">//共通DLLを利用しないキャラクタDLLを作成する場合</font>
00039 <font class="preprocessor">#endif
</font><a name="l00040"></a><a class="code" href="gobjbase.h.html#a0">00040</a> <font class="preprocessor"></font><font class="preprocessor">#define RUNTIME_EXPORT
</font>00041 <font class="preprocessor"></font><font class="preprocessor">#endif // CRUNT090_EXPORTS
</font>00042 <font class="preprocessor"></font>
00043 
00044 
00045 <font class="comment">//DirectX SDK がない場合</font>
00046 <font class="preprocessor">#ifndef USE_DIRECT3D_DIRECT
</font>00047 <font class="preprocessor"></font><font class="keyword">typedef</font> LPVOID LPDIRECT3D8;
00048 <font class="keyword">typedef</font> LPVOID LPDIRECT3DDEVICE8;
00049 <font class="keyword">typedef</font> LPVOID LPDIRECT3DTEXTURE8;
00050 <font class="keyword">typedef</font> LPVOID LPD3DXMATRIX;
00051 <font class="preprocessor">#endif
</font>00052 <font class="preprocessor"></font>
00053 <font class="preprocessor">#if CDI_VERSION &lt; 900
</font><a name="l00054"></a><a class="code" href="class_CHARACTER_LOAD_OPTION.html">00054</a> <font class="preprocessor"></font><font class="keyword">struct </font><a class="code" href="class_CHARACTER_LOAD_OPTION.html">CHARACTER_LOAD_OPTION</a>{};
00055 <font class="preprocessor">#endif
</font>00056 <font class="preprocessor"></font>
00057 <font class="preprocessor">#if GCD_VERSION &lt; 900
</font>00058 <font class="preprocessor"></font><font class="keyword">struct </font><a class="code" href="class_GCD_CELL2_070.html">GCD_CELL2_070</a> : <font class="keyword">public</font> <a class="code" href="class_GCD_CELL2.html">GCD_CELL2</a> {};
00059 <font class="preprocessor">#endif
</font>00060 <font class="preprocessor"></font><font class="comment">/*-----------------------------------------------------------------*/</font>
00061 
00062 
00063 <font class="preprocessor">#ifdef _DEBUG
</font>00064 <font class="preprocessor"></font><font class="preprocessor">#define dprint  DebugPrintf
</font>00065 <font class="preprocessor"></font><font class="preprocessor">#else
</font><a name="l00066"></a><a class="code" href="gobjbase.h.html#a1">00066</a> <font class="preprocessor"></font><font class="preprocessor">#define dprint  DebugPrintfDummy
</font>00067 <font class="preprocessor"></font><font class="preprocessor">#endif
</font>00068 <font class="preprocessor"></font><font class="keyword">extern</font> <font class="keywordtype">void</font> <a class="code" href="gobjbase.h.html#a51">DebugPrintf</a>(<font class="keywordtype">char</font>* fmt,...);
00069 <font class="keyword">extern</font> <font class="keywordtype">void</font> <a class="code" href="gobjbase.h.html#a52">DebugPrintfDummy</a>(<font class="keywordtype">char</font>* fmt,...);
00070 
00071 <font class="comment">/********************************************************
</font>00072 <font class="comment">  キャラクター情報設定クラス
</font>00073 <font class="comment">  ネット対応：
</font>00074 <font class="comment">    コンストラクタ６番目の引数をTRUEに設定してください。
</font>00075 <font class="comment">　********************************************************/</font>
00076 <font class="keyword">class </font>RUNTIME_EXPORT <a class="code" href="class_CCharacterInfo.html">CCharacterInfo</a>  
00077 {
00078 <font class="keyword">public</font>:
00079     <a class="code" href="class_CCharacterInfo.html#a0">CCharacterInfo</a>(LPCTSTR CharName, DWORD CdiVersion, <a class="code" href="class_CHARACTER_LOAD_OPTION.html">CHARACTER_LOAD_OPTION</a>* Options = NULL,
00080         <font class="keywordtype">int</font> num_Options = 0, DWORD max_option_point = 0, BOOL isNetworkable = FALSE);
00081     <font class="keyword">virtual</font> <a class="code" href="class_CCharacterInfo.html#a1">~CCharacterInfo</a>();
00082 
00083     BOOL <a class="code" href="class_CCharacterInfo.html#a2">DllCharacterInfo</a>(LPVOID info);
00084     <font class="keywordtype">void</font> <a class="code" href="class_CCharacterInfo.html#a3">DllCreateCharacter</a>(PVOID info);
00085 
00086 <font class="keyword">private</font>:
00087     <font class="keywordtype">void</font> <a class="code" href="class_CCharacterInfo.html#c0">SetOptionItems</a>(<a class="code" href="class_CDI_CHARACTERINFO.html">CDI_CHARACTERINFO</a> *pif);
<a name="l00088"></a><a class="code" href="class_CCharacterInfo.html#o0">00088</a>     BOOL m_isNetworkable;
<a name="l00089"></a><a class="code" href="class_CCharacterInfo.html#o1">00089</a>     DWORD version;
<a name="l00090"></a><a class="code" href="class_CCharacterInfo.html#o2">00090</a>     LPTSTR charactername;
<a name="l00091"></a><a class="code" href="class_CCharacterInfo.html#o3">00091</a>     <a class="code" href="class_CHARACTER_LOAD_OPTION.html">CHARACTER_LOAD_OPTION</a>* m_Options;
<a name="l00092"></a><a class="code" href="class_CCharacterInfo.html#o4">00092</a>     <font class="keywordtype">int</font> m_NumOptions;
<a name="l00093"></a><a class="code" href="class_CCharacterInfo.html#o5">00093</a>     DWORD m_MaxPoint;
<a name="l00094"></a><a class="code" href="class_CCharacterInfo.html#o6">00094</a>     BOOL m_Error;
00095 };
00096 
<a name="l00103"></a><a class="code" href="gobjbase.h.html#a2">00103</a> <font class="preprocessor">#define SET_CHARACTERINFO(cinfo, Type) \
</font>00104 <font class="preprocessor"></font><font class="keyword">extern</font> <font class="stringliteral">"C"</font> BOOL CharacterInfo(LPVOID info)<font class="keyword"> </font>{\
00105     <font class="keywordflow">return</font> cinfo.DllCharacterInfo(info);\
00106 }\
00107 <font class="keyword">extern</font> <font class="stringliteral">"C"</font> DWORD CreateCharacter(PVOID info)<font class="keyword"> </font>{\
00108     cinfo.DllCreateCharacter(info);\
00109     Type* pc = <font class="keyword">new</font> Type((<a class="code" href="class_CDI_CHARACTERINFO2.html">CDI_CHARACTERINFO2</a>*)info);\
00110     pc-&gt;InitializeCharacter();\
00111     <font class="keywordflow">return</font>(pc-&gt;GetObjectID());\
00112 }
00113 
00114 <font class="comment">/*--------------------------------------------------------------
</font>00115 <font class="comment">    Goluahオブジェクト基本クラス
</font>00116 <font class="comment">----------------------------------------------------------------*/</font>
00117 <font class="keyword">class </font>RUNTIME_EXPORT <a class="code" href="class_CGoluahObject.html">CGoluahObject</a>
00118 {
00119 <font class="keyword">public</font>:
00120     <a class="code" href="class_CGoluahObject.html#a0">CGoluahObject</a>(BOOL is_effect);
00121     <font class="keyword">virtual</font> <a class="code" href="class_CGoluahObject.html#a1">~CGoluahObject</a>();
00122 
00123     <font class="keyword">static</font> DWORD <a class="code" href="class_CGoluahObject.html#d0">gMessageToObject</a>(DWORD msg,LPVOID pd,DWORD prm);
00124     <font class="keyword">virtual</font> DWORD <a class="code" href="class_CGoluahObject.html#a2">Message</a>(DWORD msg,LPVOID pd,DWORD prm);
00125 
00126     DWORD <a class="code" href="class_CGoluahObject.html#a3">GetObjectID</a>();
00127     <a class="code" href="class_GOBJECT.html">GOBJECT</a>* <a class="code" href="class_CGoluahObject.html#a4">GetGObject</a>();
<a name="l00128"></a><a class="code" href="class_CGoluahObject.html#a5">00128</a>     <font class="keywordtype">char</font>* <a class="code" href="class_CGoluahObject.html#a5">GetCharDir</a>()<font class="keyword"> </font>{ <font class="keywordflow">return</font> g_chardir; }
<a name="l00129"></a><a class="code" href="class_CGoluahObject.html#a6">00129</a>     <font class="keywordtype">char</font>* <a class="code" href="class_CGoluahObject.html#a6">GetDLLPath</a>()<font class="keyword"> </font>{ <font class="keywordflow">return</font> g_chardir; }<font class="comment">//ステージの場合なんだか紛らわしいので</font>
00130 
00131 <font class="keyword">protected</font>:
00132     <font class="keyword">virtual</font> DWORD <a class="code" href="class_CGoluahObject.html#b0">Action</a>();
00133     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#b1">Command</a>();
00134     <font class="keyword">virtual</font> DWORD <a class="code" href="class_CGoluahObject.html#b2">CommandCOM</a>(DWORD wid);
00135     <font class="keyword">virtual</font> DWORD <a class="code" href="class_CGoluahObject.html#b3">TouchA</a>(<a class="code" href="class_ATTACKINFO.html">ATTACKINFO</a> *info,DWORD ta_eid);
00136     <font class="keyword">virtual</font> DWORD <a class="code" href="class_CGoluahObject.html#b4">TouchB</a>(<a class="code" href="class_ATTACKINFO.html">ATTACKINFO</a> *info,BOOL hit);
00137     <font class="keyword">virtual</font> DWORD <a class="code" href="class_CGoluahObject.html#b5">TouchC</a>(<a class="code" href="class_ATTACKINFO.html">ATTACKINFO</a> *info,DWORD tc_eid);
00138     <font class="keyword">virtual</font> DWORD <a class="code" href="class_CGoluahObject.html#b6">Draw</a>();
00139     <font class="keyword">virtual</font> DWORD <a class="code" href="class_CGoluahObject.html#b7">DrawBack</a>();
00140     <font class="keyword">virtual</font> DWORD <a class="code" href="class_CGoluahObject.html#b8">DrawFront</a>();
00141     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#b9">ActionIDChanged</a>();
00142     <font class="keyword">virtual</font> BOOL <a class="code" href="class_CGoluahObject.html#b10">OnChangeRound</a>();
00143 
00144     <font class="keywordtype">double</font> <a class="code" href="class_CGoluahObject.html#b11">zurex</a>(<font class="keywordtype">double</font> x);
00145     <font class="keywordtype">int</font> <a class="code" href="class_CGoluahObject.html#b11">zurex</a>(<font class="keywordtype">int</font> x);
00146     <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#b13">movex</a>(<font class="keywordtype">double</font> dx);
00147     <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#b13">movex</a>(<font class="keywordtype">int</font> dx);
00148 
00149     <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#b15">AddProperty</a>(DWORD prop);
00150     <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#b16">RemoveProperty</a>(DWORD prop);
00151     <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#b17">SetProperty</a>(DWORD prop);
00152 
00153     <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#b18">ChangeAction</a>(DWORD actid);
00154 
00155     <font class="comment">// システム関連の関数</font>
00156     <font class="keyword">static</font> DWORD <a class="code" href="class_CGoluahObject.html#e0">GetKey</a>(DWORD keyinput, DWORD interval);
00157     <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="class_CGoluahObject.html#e1">SeekKey</a>(DWORD keyinput, <font class="keywordtype">int</font> offset, <font class="keywordtype">int</font> delay, DWORD keystate);
00158     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e2">SetKatiSerif</a>(DWORD tid, <font class="keywordtype">char</font>* serif);
00159     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e3">AddEffect</a>(DWORD EffectID, <font class="keywordtype">int</font> prm1, <font class="keywordtype">int</font> prm2, DWORD prm3);
00160     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e4">PlaySysSound</a>(DWORD SoundNo);
00161     <font class="keyword">static</font> LPVOID <a class="code" href="class_CGoluahObject.html#e5">LoadMySound</a>(<font class="keywordtype">char</font>* pathname);
00162     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e6">PlayMySound</a>(LPVOID psound);
00163     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e7">KillMySound</a>(LPVOID psound);
00164     DWORD <a class="code" href="class_CGoluahObject.html#b19">Message2System</a>(DWORD mes, DWORD prm);
00165     <font class="keyword">static</font> <font class="keywordtype">char</font>* <a class="code" href="class_CGoluahObject.html#e8">GetEnemyName</a>(DWORD tid);
00166 <font class="comment">//  static char* GetCharacterName(DWORD oid);</font>
00167     <font class="keyword">static</font> <font class="keywordtype">double</font> <a class="code" href="class_CGoluahObject.html#e9">GetDisplayCenter_X</a>();
00168     <font class="keyword">static</font> <font class="keywordtype">double</font> <a class="code" href="class_CGoluahObject.html#e10">GetDisplayCenter_Y</a>();
00169     <font class="keyword">static</font> DWORD <a class="code" href="class_CGoluahObject.html#e11">GetTeamNum</a>();
00170     <font class="keyword">static</font> DWORD <a class="code" href="class_CGoluahObject.html#e12">GetTaisenKeisiki</a>();
00171     <font class="keyword">static</font> DWORD <a class="code" href="class_CGoluahObject.html#e13">GetTeamNum2</a>(DWORD tid);
00172     <font class="keyword">static</font> BYTE  <a class="code" href="class_CGoluahObject.html#e14">GetEnemyFace</a>(DWORD tid);
00173     <font class="keyword">static</font> DWORD <a class="code" href="class_CGoluahObject.html#e15">TID2EnemyTID</a>(DWORD tid);
00174            DWORD <a class="code" href="class_CGoluahObject.html#b20">EnemyTID</a>();
00175     <font class="keyword">static</font> BOOL  <a class="code" href="class_CGoluahObject.html#e16">IsNetwork</a>();
00176 
00177     <font class="comment">// オブジェクト関連の関数</font>
00178     BOOL   <a class="code" href="class_CGoluahObject.html#b21">ObjCatch</a>(DWORD eid,DWORD msg_nage);              <font class="comment">//投げとかで相手をつかむ</font>
00179     <font class="keyword">static</font> <a class="code" href="class_GOBJECT.html">GOBJECT</a>* <a class="code" href="class_CGoluahObject.html#e17">GetInfo</a>(DWORD oid);                     <font class="comment">//情報ゲッツ</font>
00180     <font class="keywordtype">void</font>   <a class="code" href="class_CGoluahObject.html#b22">AddDamage</a>(DWORD eid,<font class="keywordtype">int</font> x,<font class="keywordtype">int</font> y);                <font class="comment">//(主に投げのとき)強制的にダメージを与える</font>
00181     <font class="keyword">static</font> <a class="code" href="class_GOBJECT.html">GOBJECT</a>*  <a class="code" href="class_CGoluahObject.html#e18">GetActiveCharacter</a>(DWORD tid);         <font class="comment">//現在アクティブなキャラクターの情報</font>
00182            <a class="code" href="class_GOBJECT.html">GOBJECT</a>*  <a class="code" href="class_CGoluahObject.html#b23">GetActiveEnemy</a>();                      <font class="comment">//現在アクティブな敵キャラクターの情報</font>
00183     <font class="keywordtype">void</font>   <a class="code" href="class_CGoluahObject.html#b24">Suicide</a>();                                       <font class="comment">//オブジェクト消滅</font>
00184     <font class="keyword">static</font> DWORD  <a class="code" href="class_CGoluahObject.html#e19">GetMaai_H</a>(DWORD oid, DWORD eoid);         <font class="comment">//間合いをget(水平)</font>
00185     <font class="keyword">static</font> DWORD  <a class="code" href="class_CGoluahObject.html#e20">GetMaai_V</a>(DWORD oid, DWORD eoid);         <font class="comment">//間合いをget(垂直)</font>
00186     <font class="keyword">static</font> DWORD  <a class="code" href="class_CGoluahObject.html#e21">GetCharacterID</a>(DWORD tid,DWORD index);    <font class="comment">//キャラクターのオブジェクトID</font>
00187            DWORD  <a class="code" href="class_CGoluahObject.html#b25">GetComLevel</a>();                            <font class="comment">//COMレベル取得</font>
00188            <font class="keywordtype">void</font>   <a class="code" href="class_CGoluahObject.html#b26">SetComReach</a>(DWORD idx,<font class="keywordtype">int</font> length);        <font class="comment">//COMリーチ設定</font>
00189            <font class="keywordtype">void</font>   <a class="code" href="class_CGoluahObject.html#b27">SetComAct</a>(DWORD aid,<font class="keywordtype">int</font> delay);           <font class="comment">//COM行動設定</font>
00190            <font class="keywordtype">void</font>   <a class="code" href="class_CGoluahObject.html#b28">ComDelay</a>(<font class="keywordtype">int</font> delay);                      <font class="comment">//COM行動抑制</font>
00191            BOOL   <a class="code" href="class_CGoluahObject.html#b29">IsLocal</a>();
<a name="l00192"></a><a class="code" href="class_CGoluahObject.html#b30">00192</a>            BOOL   <a class="code" href="class_CGoluahObject.html#b30">IsRemote</a>()<font class="keyword"></font>{<font class="keywordflow">return</font> !<a class="code" href="class_CGoluahObject.html#b29">IsLocal</a>();}
00193     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e22">dact_damages1</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00194     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e23">dact_damages2</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00195     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e24">dact_damages3</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00196     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e25">dact_damagec1</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00197     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e26">dact_damagec2</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00198     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e27">dact_damagec3</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00199     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e28">dact_damagej1</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00200     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e29">dact_damagej2</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00201     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e30">dact_damagej3</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00202     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e31">dact_damages1a</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00203     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e32">dact_damages2a</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00204     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e33">dact_damages3a</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00205     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e34">dact_damagec1a</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00206     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e35">dact_damagec2a</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00207     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e36">dact_damagec3a</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00208     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e37">dact_guards1</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00209     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e38">dact_guards2</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00210     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e39">dact_guards3</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00211     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e40">dact_guardc1</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00212     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e41">dact_guardc2</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00213     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e42">dact_guardc3</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00214     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e43">dact_guardj1</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00215     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e44">dact_guardj2</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00216     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e45">dact_guardj3</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00217     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e46">dact_down</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00218     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e47">dact_down2</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00219     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e48">dact_okiagari</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00220     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e49">dact_futtobi</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00221     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e50">dact_futtobi2</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00222     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e51">dact_tatakituke1a</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00223     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e52">dact_tatakituke1b</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00224     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e53">dact_tatakituke2a</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00225     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e54">dact_tatakituke2b</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *p);
00226 
00227     <font class="comment">//　描画関連の関数の定義</font>
00228     <font class="keyword">static</font> LPDIRECT3D8 <a class="code" href="class_CGoluahObject.html#e55">GetD3D</a>();                            <font class="comment">//IDirect3D* の取得</font>
00229     <font class="keyword">static</font> LPDIRECT3DDEVICE8 <a class="code" href="class_CGoluahObject.html#e56">GetD3DDevice</a>();                <font class="comment">//IDirect3DDevice* の取得</font>
00230     <font class="keyword">static</font> <font class="keywordtype">void</font>   <a class="code" href="class_CGoluahObject.html#e57">LoadCellData</a>(<font class="keywordtype">char</font>* pathname,<a class="code" href="class_GCD_CELL2_070.html">GCD_CELL2_070</a>* pCells,<a class="code" href="class_GCD_RECT.html">GCD_RECT</a>* pRects,<a class="code" href="class_GCD_HANTEI.html">GCD_HANTEI</a>* pHanteis);<font class="comment">//セルデータ読み込み関数</font>
00231     <font class="keyword">static</font> <a class="code" href="class_MYSURFACE.html">MYSURFACE</a>* <a class="code" href="class_CGoluahObject.html#e58">LoadBitmap</a>(<font class="keywordtype">char</font>* PathName,<font class="keywordtype">char</font>* PalletFileName);              <font class="comment">//ビットマップ読み込み関数</font>
00232     <font class="keyword">static</font> <font class="keywordtype">void</font>   <a class="code" href="class_CGoluahObject.html#e59">UnloadBitMap</a>(<a class="code" href="class_MYSURFACE.html">MYSURFACE</a>* Bitmap);          <font class="comment">//ビットマップ後始末関数</font>
00233     <font class="keyword">static</font> <font class="keywordtype">void</font>   <a class="code" href="class_CGoluahObject.html#e60">CellDraw</a>(<a class="code" href="class_MYSURFACE.html">MYSURFACE</a>** pBmps,<a class="code" href="class_GCD_CELL2.html">GCD_CELL2</a>* cdat,<a class="code" href="class_GCD_RECT.html">GCD_RECT</a>* rdat,        <font class="comment">//セル描画関数</font>
00234         DWORD cnum,<font class="keywordtype">int</font> x,<font class="keywordtype">int</font> y,<font class="keywordtype">float</font> z,<font class="keywordtype">int</font> Rotate,BOOL ReverseX,BOOL ReverseY,DWORD Color,<font class="keywordtype">float</font> magx,<font class="keywordtype">float</font> magy);
00235     <font class="keyword">static</font> <font class="keywordtype">void</font>   <a class="code" href="class_CGoluahObject.html#e60">CellDraw</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *objdat);
00236     <font class="keyword">static</font> <font class="keywordtype">void</font>   <a class="code" href="class_CGoluahObject.html#e62">CkBlt</a>(<a class="code" href="class_MYSURFACE.html">MYSURFACE</a>* pBmp,<font class="keywordtype">int</font> x1,<font class="keywordtype">int</font> y1,RECT bltrect,
00237         <font class="keywordtype">double</font> magx,<font class="keywordtype">double</font> magy,BOOL revx,BOOL revy,<font class="keywordtype">float</font> z,DWORD color);           <font class="comment">//Blt2</font>
00238     <font class="keyword">static</font> <font class="keywordtype">void</font>   <a class="code" href="class_CGoluahObject.html#e63">Blt3D</a>(<a class="code" href="class_MYSURFACE.html">MYSURFACE</a>* pBmp,RECT bltrect,<a class="code" href="class_MYRECT3D.html">MYRECT3D</a> rect,DWORD color);    <font class="comment">//Blt3</font>
00239     <font class="keyword">static</font> <font class="keywordtype">void</font>   <a class="code" href="class_CGoluahObject.html#e64">SetTransform</a>(BOOL BonVoyage);             <font class="comment">//変換行列設定</font>
00240     <font class="keyword">static</font> <font class="keywordtype">void</font>   <a class="code" href="class_CGoluahObject.html#e65">SetBlend</a>(DWORD type);                     <font class="comment">//ブレンドの仕方を変更</font>
00241     <font class="keyword">static</font> <font class="keywordtype">void</font>   <a class="code" href="class_CGoluahObject.html#e66">SetParentMatrix</a>(LPD3DXMATRIX pMatrix,BOOL erase,LPD3DXMATRIX OldMatrix);  <font class="comment">//「親」の変換行列設定</font>
00242     <font class="keyword">static</font> DWORD  <a class="code" href="class_CGoluahObject.html#e67">CreateCellData</a>(<font class="keywordtype">char</font>* filename,<a class="code" href="class_GCD_CELL2.html">GCD_CELL2</a> **cdat,<a class="code" href="class_GCD_RECT.html">GCD_RECT</a> **rdat,<a class="code" href="class_GCD_HANTEI.html">GCD_HANTEI</a> **hdat);<font class="comment">//セルデータ読み込み。ver0.90以降ではLoadCellDatからこちらに変更するべき</font>
00243     <font class="keyword">static</font> <font class="keywordtype">void</font>   <a class="code" href="class_CGoluahObject.html#e68">DestroyCellData</a>(<a class="code" href="class_GCD_CELL2.html">GCD_CELL2</a> **cdat,<a class="code" href="class_GCD_RECT.html">GCD_RECT</a> **rdat,<a class="code" href="class_GCD_HANTEI.html">GCD_HANTEI</a> **hdat);      <font class="comment">//CreateCellDatで生成されたバッファをクリア</font>
00244 
00245 <font class="keyword">protected</font>:
<a name="l00246"></a><a class="code" href="class_CGoluahObject.html#n0">00246</a>     <font class="keywordtype">float</font> base_z;
<a name="l00247"></a><a class="code" href="class_CGoluahObject.html#n1">00247</a>     <font class="keywordtype">char</font> *g_chardir;
<a name="l00248"></a><a class="code" href="class_CGoluahObject.html#n2">00248</a>     <a class="code" href="class_GOBJECT.html">GOBJECT</a> *pdat;
00249 
00250 <font class="keyword">private</font>:
<a name="l00251"></a><a class="code" href="class_CGoluahObject.html#o0">00251</a>     DWORD oid;
<a name="l00252"></a><a class="code" href="class_CGoluahObject.html#r0">00252</a>     <font class="keyword">static</font> <a class="code" href="class_CGoluahObject.html">CGoluahObject</a>* pObjToDelete ;
<a name="l00253"></a><a class="code" href="class_CGoluahObject.html#r1">00253</a>     <font class="keyword">static</font> <a class="code" href="class_CGoluahObject.html">CGoluahObject</a>* pObjDeleting ;
00254 };
00255 
<a name="l00256"></a><a class="code" href="class_CGoluahObject.html#a3">00256</a> <font class="keyword">inline</font> DWORD <a class="code" href="class_CGoluahObject.html#a3">CGoluahObject::GetObjectID</a>()<font class="keyword"></font>{<font class="keywordflow">return</font>(oid);}
<a name="l00257"></a><a class="code" href="class_CGoluahObject.html#a4">00257</a> <font class="keyword">inline</font> <a class="code" href="class_GOBJECT.html">GOBJECT</a>* <a class="code" href="class_CGoluahObject.html#a4">CGoluahObject::GetGObject</a>()<font class="keyword"></font>{<font class="keywordflow">return</font>(pdat);}
00258 
00259 
00260 <font class="comment">/**********************************************************************
</font>00261 <font class="comment">
</font>00262 <font class="comment">　キャラクターオブジェクト基本クラス
</font>00263 <font class="comment">
</font>00264 <font class="comment">***********************************************************************/</font>
00265 
00266 <font class="keyword">class </font>RUNTIME_EXPORT <a class="code" href="class_CCharacterBase.html">CCharacterBase</a> : <font class="keyword">public</font> <a class="code" href="class_CGoluahObject.html">CGoluahObject</a>
00267 {
00268 <font class="keyword">public</font>:
00269     <a class="code" href="class_CCharacterBase.html#a0">CCharacterBase</a>(<a class="code" href="class_CDI_CHARACTERINFO2.html">CDI_CHARACTERINFO2</a>* info);
00270     <a class="code" href="class_CCharacterBase.html#a0">CCharacterBase</a>(<a class="code" href="class_CCharacterBase.html">CCharacterBase</a> *parent);
00271     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#a2">InitializeCharacter</a>();
00272 
00273     <font class="keyword">virtual</font> <a class="code" href="class_CCharacterBase.html#a3">~CCharacterBase</a>();
00274     
00275     <font class="keyword">virtual</font> DWORD <a class="code" href="class_CGoluahObject.html#a2">Message</a>(DWORD msg,LPVOID pd,DWORD prm);<font class="comment">//必要があればオーバーライドします</font>
00276     DWORD <a class="code" href="class_CGoluahObject.html#b3">TouchA</a>(<a class="code" href="class_ATTACKINFO.html">ATTACKINFO</a> *info,DWORD ta_eid);
00277 
00278 <font class="keyword">private</font>:
00279     <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#c0">CCharacterBaseCreate</a>();<font class="comment">//それぞれのCreateで共通の初期化処理</font>
00280 
00281 <font class="keyword">protected</font>:
00282 
00283     <font class="keyword">virtual</font> DWORD <a class="code" href="class_CGoluahObject.html#b0">Action</a>();             <font class="comment">//通常 必ずオーバーライドします</font>
00284     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b1">PreAction</a>();           <font class="comment">//通常 オーバーライドする必要はありません</font>
00285     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b2">PostAction</a>();          <font class="comment">//通常 オーバーライドする必要はありません</font>
00286     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#b1">Command</a>();             <font class="comment">//通常 オーバーライドする必要はありません</font>
00287     <font class="keyword">virtual</font> DWORD <a class="code" href="class_CGoluahObject.html#b2">CommandCOM</a>(DWORD wid);<font class="comment">//通常 オーバーライドする必要はありません</font>
00288 
00289     <font class="comment">//■初期化処理。必要な部分をオーバーライドして使用します</font>
00290     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b5">InitParameters</a>()=0;    <font class="comment">//オプション・HP等設定処理。通常オーバーライドして使用します</font>
00291     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b6">InitAttackInfo</a>();      <font class="comment">//攻撃力情報の初期化 通常必ずオーバーライドして使用します</font>
00292     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b7">InitWazInfo</a>();         <font class="comment">//技情報の設定 通常必ずオーバーライドして使用します</font>
<a name="l00293"></a><a class="code" href="class_CCharacterBase.html#b8">00293</a>     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b8">InitBullets</a>()<font class="keyword"></font>{}        <font class="comment">//飛道具初期化処理。必要があればオーバーライドして使用します</font>
00294 
00295     <font class="keyword">virtual</font> BOOL <a class="code" href="class_CCharacterBase.html#b9">ChainCombo</a>(DWORD chainid);<font class="comment">//チェーンコンボ判定 必要があればオーバーライドします</font>
00296     <font class="keyword">virtual</font> BOOL <a class="code" href="class_CCharacterBase.html#b10">ChainCheck</a>(DWORD chainid);<font class="comment">//上記のチェックのみ版</font>
00297 
<a name="l00298"></a><a class="code" href="class_CCharacterBase.html#b11">00298</a>     DWORD <a class="code" href="class_CCharacterBase.html#b11">GetKeyInput</a>()<font class="keyword">     </font>{ <font class="keywordflow">return</font> keyinput; }
00299 
00300     <font class="comment">//■サウンド関係</font>
00301     <font class="comment">// 自前でやる場合はオーバーライドしてください</font>
00302     <font class="comment">// コンストラクタの引数で渡したnumのぶんだけ sound**.wav を使用します</font>
00303 <font class="keyword">protected</font>:
00304     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b12">InitMySound</a>(<font class="keywordtype">char</font>* path_name=NULL,<font class="keywordtype">char</font>* list_name=NULL);
00305     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b13">ReleaseMySound</a>();
00306 <font class="keyword">public</font>:
00307     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e6">PlayMySound</a>(DWORD number);
00308 
00309     <font class="comment">//■ビットマップとCELLの読み込み</font>
00310     <font class="comment">//　自前でやる場合はオーバーライドしてください</font>
00311 <font class="keyword">protected</font>:
00312     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b14">InitGCDandBMP</a>();
00313     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b15">ReleaseGCDandBMP</a>();
00314 
00315     <font class="comment">//■CCharacterBaseクラスが行う行動の定義</font>
00316     <font class="comment">//通常動作</font>
00317     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b16">act_neutral</a>()=0;<font class="comment">//ニュートラル</font>
00318     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b17">act_crouch</a>()=0;<font class="comment">//しゃがみ</font>
00319     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b18">act_rakka</a>()=0;<font class="comment">//落下</font>
00320     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b19">act_tojyo</a>()=0;<font class="comment">//登場</font>
00321     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b20">act_win</a>()=0;<font class="comment">//勝利</font>
00322     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b21">act_timeoverlose</a>();<font class="comment">//タイムオーバー</font>
00323     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b22">act_walkf</a>()=0;<font class="comment">//前進</font>
00324     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b23">act_walkb</a>()=0;<font class="comment">//後退</font>
00325     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b24">act_jamps</a>()=0;<font class="comment">//ジャンプ予備動作</font>
00326     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b25">act_jampc</a>()=0;<font class="comment">//垂直ジャンプ</font>
00327     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b26">act_jampf</a>()=0;<font class="comment">//前ジャンプ</font>
00328     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b27">act_jampb</a>()=0;<font class="comment">//後ジャンプ</font>
00329     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b28">act_rakka2</a>();<font class="comment">//落下</font>
00330     <font class="comment">//通常.攻撃</font>
00331     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b29">act_att_sa</a>()=0;<font class="comment">//立弱</font>
00332     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b30">act_att_sb</a>()=0;<font class="comment">//立中</font>
00333     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b31">act_att_sc</a>()=0;<font class="comment">//立強</font>
00334     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b32">act_att_ca</a>()=0;<font class="comment">//屈弱</font>
00335     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b33">act_att_cb</a>()=0;<font class="comment">//屈中</font>
00336     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b34">act_att_cc</a>()=0;<font class="comment">//屈強</font>
00337     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b35">act_att_ja</a>()=0;<font class="comment">//飛弱</font>
00338     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b36">act_att_jb</a>()=0;<font class="comment">//飛中</font>
00339     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b37">act_att_jc</a>()=0;<font class="comment">//飛強</font>
00340     <font class="comment">//その他</font>
00341     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b38">act_taiki</a>();
00342     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b39">act_taikicyu</a>();
00343     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b40">act_koutai_out</a>();
00344     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b41">act_koutai_in</a>();
00345     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b42">act_koutai</a>();
00346     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b43">act_koutai2</a>();
00347     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b44">act_strikercomeon</a>();
00348 
00349     <font class="comment">// コマンド判定。通常オーバーライドします</font>
00350     <font class="keyword">virtual</font> BOOL <a class="code" href="class_CCharacterBase.html#b45">Command_Hissatu</a>(DWORD keyinfo);            <font class="comment">//必殺技コマンド判定</font>
00351     <font class="keyword">virtual</font> BOOL <a class="code" href="class_CCharacterBase.html#b46">Command_Normal</a>(DWORD keyinfo);             <font class="comment">//基本動作</font>
00352     <font class="keyword">virtual</font> BOOL <a class="code" href="class_CCharacterBase.html#b47">Command_OnSystem</a>(DWORD keyinfo);           <font class="comment">//システム定義動作中</font>
00353     <font class="keyword">virtual</font> BOOL <a class="code" href="class_CCharacterBase.html#b48">Command_OnHissatuAttacking</a>(DWORD keyinfo); <font class="comment">//必殺技中</font>
00354     <font class="keyword">virtual</font> BOOL <a class="code" href="class_CCharacterBase.html#b49">Command_OnAttacking</a>(DWORD keyinfo);        <font class="comment">//攻撃動作中</font>
00355     <font class="keyword">virtual</font> BOOL <a class="code" href="class_CCharacterBase.html#b50">Command_OnNormal</a>(DWORD keyinfo);           <font class="comment">//基本動作中</font>
00356 
00357     <font class="comment">// コンピュータコマンド判定。必要があればオーバーライドします</font>
00358     <font class="keyword">virtual</font> DWORD <a class="code" href="class_CCharacterBase.html#b51">CmdCom_OnSystem</a>(DWORD wid);               <font class="comment">//システム定義動作中</font>
00359     <font class="keyword">virtual</font> DWORD <a class="code" href="class_CCharacterBase.html#b52">CmdCom_OnHissatuAttacking</a>(DWORD wid);     <font class="comment">//必殺技中</font>
00360     <font class="keyword">virtual</font> DWORD <a class="code" href="class_CCharacterBase.html#b53">CmdCom_OnKucyu</a>(DWORD wid);                <font class="comment">//空中動作中</font>
00361     <font class="keyword">virtual</font> DWORD <a class="code" href="class_CCharacterBase.html#b54">CmdCom_OnNormal</a>(DWORD wid);               <font class="comment">//基本動作中</font>
00362 
00363     <font class="comment">//レバーコマンド判定関数</font>
00364     BOOL <a class="code" href="class_CCharacterBase.html#b55">com236</a>(<font class="keywordtype">int</font> dt);
00365     BOOL <a class="code" href="class_CCharacterBase.html#b56">com623</a>(<font class="keywordtype">int</font> dt);
00366     BOOL <a class="code" href="class_CCharacterBase.html#b57">com214</a>(<font class="keywordtype">int</font> dt);
00367     BOOL <a class="code" href="class_CCharacterBase.html#b58">com421</a>(<font class="keywordtype">int</font> dt);
00368     BOOL <a class="code" href="class_CCharacterBase.html#b59">com66</a>(<font class="keywordtype">int</font> dt);
00369     BOOL <a class="code" href="class_CCharacterBase.html#b60">com44</a>(<font class="keywordtype">int</font> dt);
00370     BOOL <a class="code" href="class_CCharacterBase.html#b61">com22</a>(<font class="keywordtype">int</font> dt);
00371     BOOL <a class="code" href="class_CCharacterBase.html#b62">com426</a>(<font class="keywordtype">int</font> dt);
00372     BOOL <a class="code" href="class_CCharacterBase.html#b63">com236236</a>(<font class="keywordtype">int</font> dt);
00373     BOOL <a class="code" href="class_CCharacterBase.html#b64">com2363214</a>(<font class="keywordtype">int</font> dt);
00374     BOOL <a class="code" href="class_CCharacterBase.html#b65">com62426</a>(<font class="keywordtype">int</font> dt);
00375     BOOL <a class="code" href="class_CCharacterBase.html#b66">com6426</a>(<font class="keywordtype">int</font> dt);
00376 
00377     <font class="comment">//その他操作</font>
00378     <font class="comment">//通常、オーバーライドする必要はありません</font>
00379     <font class="keyword">virtual</font> BOOL <a class="code" href="class_CCharacterBase.html#b67">Furimuki</a>();        <font class="comment">//敵のほうに振り向く動作をします</font>
00380     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b68">ZFront</a>();          <font class="comment">//z座標を手前側に移動します</font>
00381     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b69">ZBack</a>();           <font class="comment">//z座標を奥側に移動します</font>
00382     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b70">JiyuuRakka</a>(<font class="keywordtype">double</font> acc_g,BOOL cyakuchi=FALSE,DWORD toaid=ACTID_NEUTRAL);
00383     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b71">CyakuchiHantei</a>(DWORD toaid=ACTID_NEUTRAL);<font class="comment">//着地の判定</font>
00384     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b72">LoadAndSetKatiSerif</a>(<font class="keywordtype">char</font>* filename=NULL);
00385     BOOL <a class="code" href="class_CCharacterBase.html#b73">NageHantei</a>(DWORD maai);    <font class="comment">//投げの間合い判定</font>
00386     <font class="keywordtype">void</font> <a class="code" href="class_CCharacterBase.html#b74">AddPowerGauge</a>(<font class="keywordtype">double</font> dp);  <font class="comment">//パワーゲージ増加（上限/下限チェックつき）</font>
<a name="l00387"></a><a class="code" href="class_CCharacterBase.html#b75">00387</a>     DWORD <a class="code" href="class_CGoluahObject.html#e0">GetKey</a>(DWORD interval)<font class="keyword">    </font>{ <font class="keywordflow">return</font> <a class="code" href="class_CGoluahObject.html#e0">CGoluahObject::GetKey</a>(keyinput, interval); }
00388     <font class="keywordtype">int</font> <a class="code" href="class_CGoluahObject.html#e1">SeekKey</a>(<font class="keywordtype">int</font> offset, <font class="keywordtype">int</font> delay, DWORD keystate);
00389 
00390     <font class="comment">//情報取得系</font>
<a name="l00391"></a><a class="code" href="class_CCharacterBase.html#b77">00391</a>     BOOL <a class="code" href="class_CCharacterBase.html#b77">IsCom</a>()<font class="keyword">        </font>{<font class="keywordflow">return</font> (pdat-&gt;objtype&amp;GOBJFLG_COMPUTER) ? TRUE : FALSE;}
<a name="l00392"></a><a class="code" href="class_CCharacterBase.html#b78">00392</a>     BOOL <a class="code" href="class_CCharacterBase.html#b78">IsLocalCom</a>()<font class="keyword">   </font>{ <font class="keywordflow">return</font> (<a class="code" href="class_CCharacterBase.html#b77">IsCom</a>() &amp;&amp; <a class="code" href="class_CGoluahObject.html#b29">IsLocal</a>()); }
00393 
00394 <font class="keyword">protected</font>:
00395     <font class="comment">//各種動作設定</font>
<a name="l00396"></a><a class="code" href="class_CCharacterBase.html#n0">00396</a>     BOOL chainComboEnabled;     <font class="comment">//チェーンコンボを有効にするかどうか</font>
<a name="l00397"></a><a class="code" href="class_CCharacterBase.html#n1">00397</a>     DWORD chainlist;            <font class="comment">//チェーンコンボ・すでに出した技を保存する変数</font>
<a name="l00398"></a><a class="code" href="class_CCharacterBase.html#n2">00398</a>     <font class="keywordtype">float</font> front_z,back_z;       <font class="comment">//ZFront/Backメソッドで指定されるZ座標</font>
<a name="l00399"></a><a class="code" href="class_CCharacterBase.html#n4">00399</a>     BOOL doStriker;             <font class="comment">//支援攻撃をやらかすかどうか</font>
<a name="l00400"></a><a class="code" href="class_CCharacterBase.html#n5">00400</a>     <a class="code" href="class_WAZAINFO.html">WAZAINFO</a> waz;               <font class="comment">//技情報構造体</font>
<a name="l00401"></a><a class="code" href="class_CCharacterBase.html#n6">00401</a>     DWORD pal_number;           <font class="comment">//システムから指定されたパレット番号</font>
<a name="l00402"></a><a class="code" href="class_CCharacterBase.html#n7">00402</a>     <a class="code" href="class_CCharacterBase.html">CCharacterBase</a> *parent_char;<font class="comment">//「親」キャラクター</font>
<a name="l00403"></a><a class="code" href="class_CCharacterBase.html#n8">00403</a>     BOOL isSuperArmer;
<a name="l00404"></a><a class="code" href="class_CCharacterBase.html#n9">00404</a>     BOOL isAutoGuard;
<a name="l00405"></a><a class="code" href="class_CCharacterBase.html#n10">00405</a>     DWORD option_flags;
00406 
<a name="l00407"></a><a class="code" href="class_CCharacterBase.html#n11">00407</a>     <font class="keywordtype">int</font> base_voice_damage1;
<a name="l00408"></a><a class="code" href="class_CCharacterBase.html#n12">00408</a>     <font class="keywordtype">int</font> base_voice_damage2;
<a name="l00409"></a><a class="code" href="class_CCharacterBase.html#n13">00409</a>     <font class="keywordtype">int</font> base_voice_damage3;
<a name="l00410"></a><a class="code" href="class_CCharacterBase.html#n14">00410</a>     <font class="keywordtype">int</font> base_voice_ko;
<a name="l00411"></a><a class="code" href="class_CCharacterBase.html#n15">00411</a>     BOOL final_voice_flag;
00412 
<a name="l00413"></a><a class="code" href="class_CCharacterBase.html#n16">00413</a>     <a class="code" href="class_MYSURFACE.html">MYSURFACE</a> *bitmaps[GCDMAX_IMAGES];
<a name="l00414"></a><a class="code" href="class_CCharacterBase.html#n17">00414</a>     <a class="code" href="class_GCD_RECT.html">GCD_RECT</a> *rects;
<a name="l00415"></a><a class="code" href="class_CCharacterBase.html#n18">00415</a>     <a class="code" href="class_GCD_CELL2.html">GCD_CELL2</a> *cells;
<a name="l00416"></a><a class="code" href="class_CCharacterBase.html#n19">00416</a>     <a class="code" href="class_GCD_HANTEI.html">GCD_HANTEI</a> *hantei;
<a name="l00417"></a><a class="code" href="class_CCharacterBase.html#n20">00417</a>     LPVOID* mysounds;
<a name="l00418"></a><a class="code" href="class_CCharacterBase.html#n21">00418</a>     <font class="keywordtype">int</font>* mysound_numbers;
<a name="l00419"></a><a class="code" href="class_CCharacterBase.html#n22">00419</a>     DWORD keyinput;
00420 };
00421 
<a name="l00422"></a><a class="code" href="class_CCharacterBase.html#b76">00422</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> <a class="code" href="class_CGoluahObject.html#e1">CCharacterBase::SeekKey</a>(<font class="keywordtype">int</font> offset, <font class="keywordtype">int</font> delay, DWORD keystate)<font class="keyword"> </font>{
00423     <font class="keywordflow">return</font> <a class="code" href="class_CGoluahObject.html#e1">CGoluahObject::SeekKey</a>(keyinput, offset, delay, keystate);
00424 }
00425 
00426 <font class="comment">// 派生クラスの行動IDは、このフラグが競合しないように定義すること（普通しないけど）</font>
<a name="l00427"></a><a class="code" href="gobjbase.h.html#a3">00427</a> <font class="preprocessor">#define ACTID_CHARACTERBASE (0x8000)
</font>00428 <font class="preprocessor"></font>
<a name="l00429"></a><a class="code" href="gobjbase.h.html#a4">00429</a> <font class="preprocessor">#define ACTID_WALKF     (ACTID_CHARACTERBASE | 0x0001)//前歩き
</font><a name="l00430"></a><a class="code" href="gobjbase.h.html#a5">00430</a> <font class="preprocessor"></font><font class="preprocessor">#define ACTID_WALKB     (ACTID_CHARACTERBASE | 0x0002)//後ろ歩き
</font><a name="l00431"></a><a class="code" href="gobjbase.h.html#a6">00431</a> <font class="preprocessor"></font><font class="preprocessor">#define ACTID_JAMPS     (ACTID_CHARACTERBASE | 0x0003)//ジャンプ予備動作
</font><a name="l00432"></a><a class="code" href="gobjbase.h.html#a7">00432</a> <font class="preprocessor"></font><font class="preprocessor">#define ACTID_JAMPC     (ACTID_CHARACTERBASE | ACTID_KUCYU | 0x0004)
</font><a name="l00433"></a><a class="code" href="gobjbase.h.html#a8">00433</a> <font class="preprocessor"></font><font class="preprocessor">#define ACTID_JAMPF     (ACTID_CHARACTERBASE | ACTID_KUCYU | 0x0005)
</font><a name="l00434"></a><a class="code" href="gobjbase.h.html#a9">00434</a> <font class="preprocessor"></font><font class="preprocessor">#define ACTID_JAMPB     (ACTID_CHARACTERBASE | ACTID_KUCYU | 0x0006)
</font><a name="l00435"></a><a class="code" href="gobjbase.h.html#a10">00435</a> <font class="preprocessor"></font><font class="preprocessor">#define ACTID_RAKKA2    (ACTID_CHARACTERBASE | ACTID_KUCYU | 0x0007)
</font>00436 <font class="preprocessor"></font>
<a name="l00437"></a><a class="code" href="gobjbase.h.html#a11">00437</a> <font class="preprocessor">#define ACTID_STRIKERCOMEON (ACTID_CHARACTERBASE | 0x0008)//いけー
</font>00438 <font class="preprocessor"></font>
<a name="l00439"></a><a class="code" href="gobjbase.h.html#a12">00439</a> <font class="preprocessor">#define ACTID_ATT_SA    (ACTID_CHARACTERBASE | ACTID_ATTACK | 0x0009)
</font><a name="l00440"></a><a class="code" href="gobjbase.h.html#a13">00440</a> <font class="preprocessor"></font><font class="preprocessor">#define ACTID_ATT_SB    (ACTID_CHARACTERBASE | ACTID_ATTACK | 0x000A)
</font><a name="l00441"></a><a class="code" href="gobjbase.h.html#a14">00441</a> <font class="preprocessor"></font><font class="preprocessor">#define ACTID_ATT_SC    (ACTID_CHARACTERBASE | ACTID_ATTACK | 0x000B)
</font>00442 <font class="preprocessor"></font>
<a name="l00443"></a><a class="code" href="gobjbase.h.html#a15">00443</a> <font class="preprocessor">#define ACTID_ATT_CA    (ACTID_CHARACTERBASE | ACTID_ATTACK | ACTID_SYAGAMI | 0x000C)
</font><a name="l00444"></a><a class="code" href="gobjbase.h.html#a16">00444</a> <font class="preprocessor"></font><font class="preprocessor">#define ACTID_ATT_CB    (ACTID_CHARACTERBASE | ACTID_ATTACK | ACTID_SYAGAMI | 0x000D)
</font><a name="l00445"></a><a class="code" href="gobjbase.h.html#a17">00445</a> <font class="preprocessor"></font><font class="preprocessor">#define ACTID_ATT_CC    (ACTID_CHARACTERBASE | ACTID_ATTACK | ACTID_SYAGAMI | 0x000E)
</font>00446 <font class="preprocessor"></font>
<a name="l00447"></a><a class="code" href="gobjbase.h.html#a18">00447</a> <font class="preprocessor">#define ACTID_ATT_JA    (ACTID_CHARACTERBASE | ACTID_ATTACK | ACTID_KUCYU | 0x000F)
</font><a name="l00448"></a><a class="code" href="gobjbase.h.html#a19">00448</a> <font class="preprocessor"></font><font class="preprocessor">#define ACTID_ATT_JB    (ACTID_CHARACTERBASE | ACTID_ATTACK | ACTID_KUCYU | 0x0010)
</font><a name="l00449"></a><a class="code" href="gobjbase.h.html#a20">00449</a> <font class="preprocessor"></font><font class="preprocessor">#define ACTID_ATT_JC    (ACTID_CHARACTERBASE | ACTID_ATTACK | ACTID_KUCYU | 0x0011)
</font>00450 <font class="preprocessor"></font>
<a name="l00451"></a><a class="code" href="gobjbase.h.html#a21">00451</a> <font class="preprocessor">#define ACTID_KOUTAIOUT (ACTID_CHARACTERBASE | ACTID_INOUT | 0x0012)//交代。画面外に飛んでく。
</font><a name="l00452"></a><a class="code" href="gobjbase.h.html#a22">00452</a> <font class="preprocessor"></font><font class="preprocessor">#define ACTID_KOUTAIIN  (ACTID_CHARACTERBASE | ACTID_INOUT | 0x0013)//交代。画面内に飛んでくる
</font><a name="l00453"></a><a class="code" href="gobjbase.h.html#a23">00453</a> <font class="preprocessor"></font><font class="preprocessor">#define ACTID_TAIKI     (ACTID_CHARACTERBASE | ACTID_INOUT | 0x0014)//画面外に飛んでって待機
</font><a name="l00454"></a><a class="code" href="gobjbase.h.html#a24">00454</a> <font class="preprocessor"></font><font class="preprocessor">#define ACTID_KOUTAI    (ACTID_CHARACTERBASE | ACTID_INOUT | 0x0015)//画面外から飛んでくる
</font><a name="l00455"></a><a class="code" href="gobjbase.h.html#a25">00455</a> <font class="preprocessor"></font><font class="preprocessor">#define ACTID_TAIKICYU  (ACTID_CHARACTERBASE | ACTID_INOUT | 0x0016)//待機ちゅ―
</font><a name="l00456"></a><a class="code" href="gobjbase.h.html#a26">00456</a> <font class="preprocessor"></font><font class="preprocessor">#define ACTID_KOUTAI2   (ACTID_CHARACTERBASE | ACTID_INOUT | 0x0017)//交代後、ポーズキメ
</font>00457 <font class="preprocessor"></font>
<a name="l00458"></a><a class="code" href="gobjbase.h.html#a27">00458</a> <font class="preprocessor">#define ACTID_TIMEOVERLOSE  (ACTID_CHARACTERBASE | 0x0018)
</font>00459 <font class="preprocessor"></font>
00460 <font class="comment">//chain combo</font>
<a name="l00461"></a><a class="code" href="gobjbase.h.html#a28">00461</a> <font class="preprocessor">#define CHAIN_SA    0x00010000
</font><a name="l00462"></a><a class="code" href="gobjbase.h.html#a29">00462</a> <font class="preprocessor"></font><font class="preprocessor">#define CHAIN_SB    0x00020000
</font><a name="l00463"></a><a class="code" href="gobjbase.h.html#a30">00463</a> <font class="preprocessor"></font><font class="preprocessor">#define CHAIN_SC    0x00040000
</font><a name="l00464"></a><a class="code" href="gobjbase.h.html#a31">00464</a> <font class="preprocessor"></font><font class="preprocessor">#define CHAIN_CA    0x00080000
</font><a name="l00465"></a><a class="code" href="gobjbase.h.html#a32">00465</a> <font class="preprocessor"></font><font class="preprocessor">#define CHAIN_CB    0x00100000
</font><a name="l00466"></a><a class="code" href="gobjbase.h.html#a33">00466</a> <font class="preprocessor"></font><font class="preprocessor">#define CHAIN_CC    0x00200000
</font>00467 <font class="preprocessor"></font>
<a name="l00468"></a><a class="code" href="gobjbase.h.html#a34">00468</a> <font class="preprocessor">#define ADDEFFECT(a,b,c,d)  funcs-&gt;addeffect(a,b,c,d)
</font>00469 <font class="preprocessor"></font>
00470 
00471 <font class="comment">/***************************************************************
</font>00472 <font class="comment">　飛び道具基本クラス
</font>00473 <font class="comment">　なんかいまいち使い勝手悪そうカモ
</font>00474 <font class="comment">
</font>00475 <font class="comment">　極力試合途中で生成しないでください
</font>00476 <font class="comment">****************************************************************/</font>
00477 
00478 <font class="comment">//行動IDの定義</font>
<a name="l00479"></a><a class="code" href="gobjbase.h.html#a35">00479</a> <font class="preprocessor">#define CBB_STATE_FLAG      0x00008000
</font><a name="l00480"></a><a class="code" href="gobjbase.h.html#a36">00480</a> <font class="preprocessor"></font><font class="preprocessor">#define CBB_STATE_IDLE      (CBB_STATE_FLAG | 0x00000100)//act_idle
</font><a name="l00481"></a><a class="code" href="gobjbase.h.html#a37">00481</a> <font class="preprocessor"></font><font class="preprocessor">#define CBB_STATE_RUN       (CBB_STATE_FLAG | 0x00000200)//act_run
</font><a name="l00482"></a><a class="code" href="gobjbase.h.html#a38">00482</a> <font class="preprocessor"></font><font class="preprocessor">#define CBB_STATE_BOMB      (CBB_STATE_FLAG | 0x00000300)//act_bomb
</font><a name="l00483"></a><a class="code" href="gobjbase.h.html#a39">00483</a> <font class="preprocessor"></font><font class="preprocessor">#define CBB_STATE_RUN2      (CBB_STATE_FLAG | 0x00000400)//act_run2
</font>00484 <font class="preprocessor"></font>
00485 <font class="keyword">class </font>RUNTIME_EXPORT <a class="code" href="class_CBulletBase.html">CBulletBase</a> : <font class="keyword">public</font> <a class="code" href="class_CGoluahObject.html">CGoluahObject</a>
00486 {
00487 <font class="keyword">public</font>:
00488     <a class="code" href="class_CBulletBase.html#a0">CBulletBase</a>(<a class="code" href="class_GOBJECT.html">GOBJECT</a> *parent = NULL);        <font class="comment">//コンストラクタ(1)</font>
00489     <a class="code" href="class_CBulletBase.html#a0">CBulletBase</a>(<a class="code" href="class_CCharacterBase.html">CCharacterBase</a> *parent);        <font class="comment">//コンストラクタ(2) 推奨</font>
00490 
<a name="l00491"></a><a class="code" href="class_CBulletBase.html#a2">00491</a>     <font class="keyword">virtual</font> <a class="code" href="class_CBulletBase.html#a2">~CBulletBase</a>()<font class="keyword"></font>{}
00492 
00493     <font class="keyword">virtual</font> BOOL <a class="code" href="class_CBulletBase.html#a3">Go</a>(BOOL muki,<font class="keywordtype">double</font> x,<font class="keywordtype">double</font> y,<font class="keywordtype">double</font> vx,<font class="keywordtype">double</font> vy=0);
00494     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CBulletBase.html#a4">Bomb</a>();<font class="comment">//消滅動作に強制移行します</font>
00495     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CBulletBase.html#a5">Hide</a>();<font class="comment">//強制的に待機状態にします</font>
<a name="l00496"></a><a class="code" href="class_CBulletBase.html#a6">00496</a>     <font class="keywordtype">void</font> <a class="code" href="class_CBulletBase.html#a6">SetPos</a>(<font class="keywordtype">double</font> x,<font class="keywordtype">double</font> y)<font class="keyword"></font>{<a class="code" href="class_CGoluahObject.html#a4">GetGObject</a>()-&gt;x=x;<a class="code" href="class_CGoluahObject.html#a4">GetGObject</a>()-&gt;y=y;}
00497     <font class="keyword">virtual</font> DWORD <a class="code" href="class_CGoluahObject.html#b6">Draw</a>();
00498 
<a name="l00499"></a><a class="code" href="class_CBulletBase.html#a8">00499</a>     <font class="keywordtype">void</font> <a class="code" href="class_CBulletBase.html#a8">SetHitMessage</a>(DWORD msgid,DWORD param)<font class="keyword"></font>{hitmsg=msgid;hitprm=param;}
<a name="l00500"></a><a class="code" href="class_CBulletBase.html#a9">00500</a>     <font class="keywordtype">void</font> <a class="code" href="class_CBulletBase.html#a9">SetGuardMessage</a>(DWORD msgid,DWORD param)<font class="keyword"></font>{grdmsg=msgid;grdprm=param;}
<a name="l00501"></a><a class="code" href="class_CBulletBase.html#a10">00501</a>     <font class="keywordtype">void</font> <a class="code" href="class_CBulletBase.html#a10">SetAttackInfo</a>( <a class="code" href="class_ATTACKINFO.html">ATTACKINFO</a>* patk)<font class="keyword"></font>{atkinfo=*patk;}
<a name="l00502"></a><a class="code" href="class_CBulletBase.html#a11">00502</a>     BOOL <a class="code" href="class_CBulletBase.html#a11">isReady</a>()<font class="keyword"></font>{<font class="keywordflow">return</font>(<a class="code" href="class_CGoluahObject.html#a4">GetGObject</a>()-&gt;aid==CBB_STATE_IDLE);}
00503 
<a name="l00504"></a><a class="code" href="class_CBulletBase.html#a12">00504</a>     <a class="code" href="class_GOBJECT.html">GOBJECT</a>* <a class="code" href="class_CBulletBase.html#a12">GetParentObj</a>()<font class="keyword">             </font>{ <font class="keywordflow">return</font> parent_obj; }
<a name="l00505"></a><a class="code" href="class_CBulletBase.html#a13">00505</a>     <a class="code" href="class_CCharacterBase.html">CCharacterBase</a>* <a class="code" href="class_CBulletBase.html#a13">GetParentClass</a>()<font class="keyword">    </font>{ <font class="keywordflow">return</font> parent_class; }
<a name="l00506"></a><a class="code" href="class_CBulletBase.html#a14">00506</a>     BOOL <a class="code" href="class_CBulletBase.html#a14">IsForNetwork</a>()<font class="keyword">                 </font>{ <font class="keywordflow">return</font> m_isForNetwork; }
00507 
00508 <font class="keyword">private</font>:
00509     <font class="keywordtype">void</font> <a class="code" href="class_CBulletBase.html#c0">CBulletBaseCreate</a>();<font class="comment">//共通初期化処理</font>
00510 
00511 <font class="keyword">protected</font>:
00512     <font class="comment">//必要があればオーバーライドします</font>
00513     <font class="keyword">virtual</font> DWORD <a class="code" href="class_CGoluahObject.html#a2">Message</a>(DWORD msg,LPVOID pd,DWORD prm);
00514     <font class="keyword">virtual</font> DWORD <a class="code" href="class_CGoluahObject.html#b0">Action</a>();
00515     <font class="keyword">virtual</font> DWORD <a class="code" href="class_CGoluahObject.html#b4">TouchB</a>(<a class="code" href="class_ATTACKINFO.html">ATTACKINFO</a> *info,BOOL hit);
00516     <font class="keyword">virtual</font> DWORD <a class="code" href="class_CBulletBase.html#b3">Sousai</a>(DWORD prm);    <font class="comment">//他飛道具と相殺したときに呼ばれます</font>
00517     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CBulletBase.html#b4">Hit</a>();                 <font class="comment">//相手にヒットしたとき呼ばれます(TouchB)</font>
00518     <font class="keyword">virtual</font> BOOL <a class="code" href="class_CGoluahObject.html#b10">OnChangeRound</a>();       <font class="comment">//ラウンド変化時処理。消えたくなければTRUEを返す</font>
00519 
00520     <font class="comment">//行動関数です。オーバーライドして使います</font>
00521     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CBulletBase.html#b6">act_idle</a>();
00522     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CBulletBase.html#b7">act_run</a>()=0;
00523     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CBulletBase.html#b8">act_bomb</a>()=0;
<a name="l00524"></a><a class="code" href="class_CBulletBase.html#b9">00524</a>     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CBulletBase.html#b9">act_run2</a>()<font class="keyword"></font>{}
00525 
00526     <font class="comment">//オーバーライドの必要は多分ない</font>
00527     <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#b24">Suicide</a>();
00528 
00529     <font class="comment">//サウンド再生。親のサウンド機能を流用します</font>
00530     <font class="comment">//コンストラクタ(2)で作成した場合のみ使用可能です</font>
00531     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CGoluahObject.html#e6">PlayMySound</a>(DWORD number);
00532 
00533 <font class="keyword">protected</font>:
<a name="l00534"></a><a class="code" href="class_CBulletBase.html#n0">00534</a>     <a class="code" href="class_ATTACKINFO.html">ATTACKINFO</a> atkinfo;<font class="comment">//攻撃力情報構造体</font>
00535 
<a name="l00536"></a><a class="code" href="class_CBulletBase.html#n2">00536</a>     DWORD hitmsg,hitprm;
<a name="l00537"></a><a class="code" href="class_CBulletBase.html#n4">00537</a>     DWORD grdmsg,grdprm;
00538 
<a name="l00539"></a><a class="code" href="class_CBulletBase.html#n5">00539</a>     BOOL m_isForNetwork;
<a name="l00540"></a><a class="code" href="class_CBulletBase.html#n6">00540</a>     <a class="code" href="class_GOBJECT.html">GOBJECT</a> *parent_obj;
<a name="l00541"></a><a class="code" href="class_CBulletBase.html#n7">00541</a>     <a class="code" href="class_CCharacterBase.html">CCharacterBase</a> *parent_class;
00542 };
00543 
00544 
00545 <font class="comment">/***************************************************************
</font>00546 <font class="comment">　自動飛び道具クラス
</font>00547 <font class="comment">　昔々のソースを再利用するために作ってみた
</font>00548 <font class="comment">
</font>00549 <font class="comment">　ネット対応：ネットのみ
</font>00550 <font class="comment">****************************************************************/</font>
00551 
<a name="l00552"></a><a class="code" href="class_MYATTACKINFO.html">00552</a> <font class="keyword">struct </font><a class="code" href="class_MYATTACKINFO.html">MYATTACKINFO</a><font class="comment">//旧攻撃力情報構造体</font>
00553 {
<a name="l00554"></a><a class="code" href="class_MYATTACKINFO.html#m0">00554</a>     DWORD hit;      <font class="comment">//ヒット情報。下のフラグ(HITINFO_〜)の論理和を指定</font>
<a name="l00555"></a><a class="code" href="class_MYATTACKINFO.html#m1">00555</a>     DWORD guard;    <font class="comment">//ガード情報。下のフラグ(GUARDINFO_〜)の論理和を指艇</font>
<a name="l00556"></a><a class="code" href="class_MYATTACKINFO.html#m2">00556</a>     DWORD damage;   <font class="comment">//ダメージ</font>
<a name="l00557"></a><a class="code" href="class_MYATTACKINFO.html#m3">00557</a>     DWORD kezuri;   <font class="comment">//削り</font>
00558 
00559     <font class="comment">//以下使われていません。ダミーです</font>
<a name="l00560"></a><a class="code" href="class_MYATTACKINFO.html#m4">00560</a>     DWORD objid;    <font class="comment">//攻撃を行ったオブジェクトのID</font>
<a name="l00561"></a><a class="code" href="class_MYATTACKINFO.html#m5">00561</a>     DWORD id;       <font class="comment">//キャラクタ側で勝手に定義して</font>
<a name="l00562"></a><a class="code" href="class_MYATTACKINFO.html#m6">00562</a>     <font class="keywordtype">double</font> pg_hit;  <font class="comment">//攻撃ヒット時のゲージ増加量</font>
<a name="l00563"></a><a class="code" href="class_MYATTACKINFO.html#m7">00563</a>     <font class="keywordtype">double</font> pg_guard;<font class="comment">//攻撃ガードされたときのゲージ増加量</font>
<a name="l00564"></a><a class="code" href="class_MYATTACKINFO.html#m8">00564</a>     BOOL muki;      <font class="comment">//相手がのけぞる向き</font>
<a name="l00565"></a><a class="code" href="class_MYATTACKINFO.html#m9">00565</a>     DWORD dur;
00566 };
00567 
<a name="l00568"></a><a class="code" href="class_BULLETINFO_A.html">00568</a> <font class="keyword">struct </font><a class="code" href="class_BULLETINFO_A.html">BULLETINFO_A</a><font class="comment">//旧飛道具構造体</font>
00569 {
<a name="l00570"></a><a class="code" href="class_BULLETINFO_A.html#m0">00570</a>     <a class="code" href="class_MYATTACKINFO.html">MYATTACKINFO</a> atk;
<a name="l00571"></a><a class="code" href="class_BULLETINFO_A.html#m1">00571</a>     <font class="keywordtype">int</font> dur;<font class="comment">//持続時間</font>
<a name="l00572"></a><a class="code" href="class_BULLETINFO_A.html#m2">00572</a>     DWORD type;<font class="comment">//下にあるフラグを指定</font>
<a name="l00573"></a><a class="code" href="class_BULLETINFO_A.html#m3">00573</a>     <font class="keywordtype">int</font> *cell_run;
<a name="l00574"></a><a class="code" href="class_BULLETINFO_A.html#m4">00574</a>     <font class="keywordtype">int</font> *cell_dis;
<a name="l00575"></a><a class="code" href="class_BULLETINFO_A.html#m5">00575</a>     DWORD spd_run;
<a name="l00576"></a><a class="code" href="class_BULLETINFO_A.html#m6">00576</a>     DWORD spd_dis;
<a name="l00577"></a><a class="code" href="class_BULLETINFO_A.html#m8">00577</a>     <font class="keywordtype">double</font> vx, vy;
<a name="l00578"></a><a class="code" href="class_BULLETINFO_A.html#m10">00578</a>     <font class="keywordtype">double</font> ax, ay;
00579 
00580     <font class="comment">//以下、使われてません。ダミーです。</font>
<a name="l00581"></a><a class="code" href="class_BULLETINFO_A.html#m11">00581</a>     BOOL muki;
<a name="l00582"></a><a class="code" href="class_BULLETINFO_A.html#m12">00582</a>     <font class="keywordtype">double</font> x;
<a name="l00583"></a><a class="code" href="class_BULLETINFO_A.html#m13">00583</a>     <font class="keywordtype">double</font> y;
<a name="l00584"></a><a class="code" href="class_BULLETINFO_A.html#m14">00584</a>     DWORD state;
<a name="l00585"></a><a class="code" href="class_BULLETINFO_A.html#m15">00585</a>     DWORD cid;
<a name="l00586"></a><a class="code" href="class_BULLETINFO_A.html#m16">00586</a>     LPVOID info_b;
00587 };
00588 
<a name="l00589"></a><a class="code" href="class_CClassicalBullet.html">00589</a> <font class="keyword">class </font>RUNTIME_EXPORT <a class="code" href="class_CClassicalBullet.html">CClassicalBullet</a> : <font class="keyword">public</font> <a class="code" href="class_CBulletBase.html">CBulletBase</a>
00590 {
00591 <font class="keyword">public</font>:
00593     <a class="code" href="class_CClassicalBullet.html#a0">CClassicalBullet</a>( <a class="code" href="class_CCharacterBase.html">CCharacterBase</a> *parent,   
00594                     <a class="code" href="class_BULLETINFO_A.html">BULLETINFO_A</a> *bulinfo       
00595                     );
00596 
00598     <a class="code" href="class_CClassicalBullet.html#a0">CClassicalBullet</a>( <a class="code" href="class_CCharacterBase.html">CCharacterBase</a> *parent,   
00599                     <a class="code" href="class_CDI_CHARACTERINFO2.html">CDI_CHARACTERINFO2</a> *info,   
00600                     <a class="code" href="class_BULLETINFO_A.html">BULLETINFO_A</a> *bulinfo,      
00601                     BYTE userID = 0xFF,         
00602                     BYTE userNo = 0xFF          
00603                     );
00604     <font class="keyword">virtual</font> <a class="code" href="class_CClassicalBullet.html#a2">~CClassicalBullet</a>();
00605     
00606     <font class="keyword">virtual</font> BOOL <a class="code" href="class_CBulletBase.html#a3">Go</a>(BOOL muki,<font class="keywordtype">double</font> x,<font class="keywordtype">double</font> y);
00607     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CBulletBase.html#b4">Hit</a>();
00608 
00609 <font class="keyword">protected</font>:
00610     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CBulletBase.html#b7">act_run</a>();
00611     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CBulletBase.html#b9">act_run2</a>();
00612     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CBulletBase.html#b8">act_bomb</a>();
00613 
<a name="l00614"></a><a class="code" href="class_CClassicalBullet.html#n0">00614</a>     DWORD* pState;
00615     <font class="keywordtype">void</font> <a class="code" href="class_CClassicalBullet.html#b3">act_run_base</a>();
00616 
<a name="l00617"></a><a class="code" href="class_CClassicalBullet.html#n2">00617</a>     <font class="keywordtype">double</font> vx,vy,ax,ay;
<a name="l00618"></a><a class="code" href="class_CClassicalBullet.html#n5">00618</a>     <font class="keywordtype">int</font> *pcr;
<a name="l00619"></a><a class="code" href="class_CClassicalBullet.html#n6">00619</a>     <font class="keywordtype">int</font> *pcd;
<a name="l00620"></a><a class="code" href="class_CClassicalBullet.html#n7">00620</a>     DWORD array_len_r;
<a name="l00621"></a><a class="code" href="class_CClassicalBullet.html#n8">00621</a>     DWORD array_len_d;
<a name="l00622"></a><a class="code" href="class_CClassicalBullet.html#n9">00622</a>     DWORD spd_r;
<a name="l00623"></a><a class="code" href="class_CClassicalBullet.html#n10">00623</a>     DWORD spd_d;
<a name="l00624"></a><a class="code" href="class_CClassicalBullet.html#n11">00624</a>     DWORD lifedur;
<a name="l00625"></a><a class="code" href="class_CClassicalBullet.html#n12">00625</a>     DWORD flags;
00626 };
00627 
00628 <font class="comment">//ちゃんとサポートされてるかどうか不明</font>
<a name="l00629"></a><a class="code" href="gobjbase.h.html#a40">00629</a> <font class="preprocessor">#define BULLETA_VSHUMAN     0x00000001//敵キャラクターに当たる
</font><a name="l00630"></a><a class="code" href="gobjbase.h.html#a41">00630</a> <font class="preprocessor"></font><font class="preprocessor">#define BULLETA_VSBULLET    0x00000002//敵飛び道具と相殺する
</font><a name="l00631"></a><a class="code" href="gobjbase.h.html#a42">00631</a> <font class="preprocessor"></font><font class="preprocessor">#define BULLETA_DONOTDIE    0x00000004//衝突後も消滅しないで飛んでいく
</font><a name="l00632"></a><a class="code" href="gobjbase.h.html#a43">00632</a> <font class="preprocessor"></font><font class="preprocessor">#define BULLETA_DRAWBACK    0x00000008//人物よりも後ろに描画する
</font><a name="l00633"></a><a class="code" href="gobjbase.h.html#a44">00633</a> <font class="preprocessor"></font><font class="preprocessor">#define BULLETA_DRAWMIDDLE  0x00000040//キャラクター・ヒットマーク間に描画
</font><a name="l00634"></a><a class="code" href="gobjbase.h.html#a45">00634</a> <font class="preprocessor"></font><font class="preprocessor">#define BULLETA_XJIMENN     0x00010000//地面に落っこちると消滅する
</font>00635 <font class="preprocessor"></font><font class="comment">//#define BULLETA_XGAMENGAI 0x00020000//画面外に達すると消滅</font>
00636 <font class="comment">//#define BULLETA_JIMAESYORI    0x10000000//info_bメンバが有効であり、処理を自前で行う</font>
<a name="l00637"></a><a class="code" href="gobjbase.h.html#a46">00637</a> <font class="preprocessor">#define BULLETA_DISPZAHYO   0x00000010//座標指定はディスプレイ上の座標。ステージ上の表示位置に左右されない
</font><a name="l00638"></a><a class="code" href="gobjbase.h.html#a47">00638</a> <font class="preprocessor"></font><font class="preprocessor">#define BULLETA_DONOTSTOP   0x00000020//超必等でstopエフェクトがかかっていても描画が止まらない
</font>00639 <font class="preprocessor"></font>
00640 <font class="comment">/********************************************************
</font>00641 <font class="comment">  飛び道具リストクラス
</font>00642 <font class="comment">  ネット対応：ネットのみ
</font>00643 <font class="comment">
</font>00644 <font class="comment">  これ、消すんでしたっけ？(aki) ＞ あつしさん
</font>00645 <font class="comment">　********************************************************/</font>
00646 
00647 <font class="keyword">class </font>RUNTIME_EXPORT <a class="code" href="class_CBulletList.html">CBulletList</a>  
00648 {
00649 <font class="keyword">public</font>:
00650     <a class="code" href="class_CBulletList.html#a0">CBulletList</a>();
00651     <a class="code" href="class_CBulletList.html#a0">CBulletList</a>(<a class="code" href="class_CBulletBase.html">CBulletBase</a>* pBullet);
00652     <font class="keyword">virtual</font> <a class="code" href="class_CBulletList.html#a2">~CBulletList</a>();
00653 
00654     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CBulletList.html#a3">Add</a>(<a class="code" href="class_CBulletBase.html">CBulletBase</a>* pBullet);
<a name="l00655"></a><a class="code" href="class_CBulletList.html#a4">00655</a>     <font class="keywordtype">void</font> <a class="code" href="class_CBulletBase.html#a6">SetPos</a>(<font class="keywordtype">double</font> x, <font class="keywordtype">double</font> y)<font class="keyword">         </font>{ this-&gt;x = x; this-&gt;y = y; }
<a name="l00656"></a><a class="code" href="class_CBulletList.html#a5">00656</a>     <font class="keywordtype">void</font> <a class="code" href="class_CBulletList.html#a5">SetSpeed</a>(<font class="keywordtype">double</font> vx, <font class="keywordtype">double</font> vy=0)<font class="keyword">   </font>{ this-&gt;vx = vx; this-&gt;vy = vy; }
00657     <font class="keyword">virtual</font> BOOL <a class="code" href="class_CBulletBase.html#a3">Go</a>(BOOL muki);
00658     <font class="keyword">virtual</font> BOOL <a class="code" href="class_CBulletBase.html#a3">Go</a>(BOOL muki, <font class="keywordtype">double</font> x, <font class="keywordtype">double</font> y);
00659     <font class="keyword">virtual</font> BOOL <a class="code" href="class_CBulletBase.html#a3">Go</a>(BOOL muki, <font class="keywordtype">double</font> x, <font class="keywordtype">double</font> y, <font class="keywordtype">double</font> vx, <font class="keywordtype">double</font> vy=0);
00660     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CBulletList.html#a9">Go_All</a>(BOOL muki, <font class="keywordtype">double</font> x, <font class="keywordtype">double</font> y);
00661     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CBulletList.html#a9">Go_All</a>(BOOL muki);
<a name="l00662"></a><a class="code" href="class_CBulletList.html#a11">00662</a>     <a class="code" href="class_CBulletList.html">CBulletList</a>* <a class="code" href="class_CBulletList.html#a11">GetNext</a>()<font class="keyword">      </font>{ <font class="keywordflow">return</font> pNext; }
<a name="l00663"></a><a class="code" href="class_CBulletList.html#a12">00663</a>     <font class="keywordtype">int</font> <a class="code" href="class_CBulletList.html#a12">GetCount</a>()<font class="keyword">  </font>{ <font class="keywordflow">return</font> ListCount; }
00664 
00665 <font class="keyword">protected</font>:
<a name="l00666"></a><a class="code" href="class_CBulletList.html#b0">00666</a>     <a class="code" href="class_CBulletBase.html">CBulletBase</a>* <a class="code" href="class_CBulletList.html#b0">GetBullet</a>()<font class="keyword">    </font>{ <font class="keywordflow">return</font> m_pBullet; }
00667 
<a name="l00668"></a><a class="code" href="class_CBulletList.html#n0">00668</a>     <font class="keywordtype">double</font> x;
<a name="l00669"></a><a class="code" href="class_CBulletList.html#n1">00669</a>     <font class="keywordtype">double</font> y;
<a name="l00670"></a><a class="code" href="class_CBulletList.html#n2">00670</a>     <font class="keywordtype">double</font> vx;
<a name="l00671"></a><a class="code" href="class_CBulletList.html#n3">00671</a>     <font class="keywordtype">double</font> vy;
<a name="l00672"></a><a class="code" href="class_CBulletList.html#n4">00672</a>     <font class="keywordtype">int</font> ListCount;
<a name="l00673"></a><a class="code" href="class_CBulletList.html#n5">00673</a>     <a class="code" href="class_CBulletBase.html">CBulletBase</a>* m_pBullet;
<a name="l00674"></a><a class="code" href="class_CBulletList.html#n6">00674</a>     <a class="code" href="class_CBulletList.html">CBulletList</a>* pNext;
00675 };
00676 
00677 
00678 <font class="comment">/********************************************************
</font>00679 <font class="comment">    マクロ定義
</font>00680 <font class="comment">**********************************************************/</font>
00681 
<a name="l00682"></a><a class="code" href="gobjbase.h.html#a48">00682</a> <font class="preprocessor">#define ALLGUARDFLAG        (GUARDINFO_XSTAND | GUARDINFO_XCROUCH | GUARDINFO_XJAMP)
</font><a name="l00683"></a><a class="code" href="gobjbase.h.html#a49">00683</a> <font class="preprocessor"></font><font class="preprocessor">#define CANNOT_GUARD(a)     ((a&amp;ALLGUARDFLAG)==0)
</font>00684 <font class="preprocessor"></font>
00685 
00686 
00687 <font class="comment">/********************************************************
</font>00688 <font class="comment">    エフェクトベース
</font>00689 <font class="comment">**********************************************************/</font>
<a name="l00700"></a><a class="code" href="class_CEffectBase.html">00700</a> <font class="keyword">class </font><a class="code" href="class_CEffectBase.html">CEffectBase</a> : <font class="keyword">public</font> <a class="code" href="class_CGoluahObject.html">CGoluahObject</a>
00701 {
00702 <font class="keyword">public</font>:
00703     <a class="code" href="class_CEffectBase.html#a0">CEffectBase</a>();
00704     <font class="keyword">virtual</font> <a class="code" href="class_CEffectBase.html#a1">~CEffectBase</a>();
00705 
00706 <font class="keyword">protected</font>:
00707 
00715     <font class="keyword">virtual</font> DWORD <a class="code" href="class_CBulletBase.html#b1">Action</a>();
00716 
<a name="l00718"></a><a class="code" href="class_CEffectBase.html#b1">00718</a>     <font class="keyword">virtual</font> BOOL <a class="code" href="class_CBulletBase.html#b5">OnChangeRound</a>()<font class="keyword"></font>{<font class="keywordflow">return</font> FALSE;}
00719 
00726     <font class="keywordtype">void</font> <a class="code" href="class_CEffectBase.html#b2">SetDuration</a>(UINT dur);
00727 
00737     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CEffectBase.html#b3">Update</a>(<font class="keywordtype">float</font> time) = 0;
00738 
00739 <font class="keyword">private</font>:
<a name="l00740"></a><a class="code" href="class_CEffectBase.html#o0">00740</a>     <font class="keywordtype">float</font> ceffectbase_private_duration;
00741 };
00742 
00743 
00744 <font class="comment">/********************************************************
</font>00745 <font class="comment">    ステージベース
</font>00746 <font class="comment">**********************************************************/</font>
00747 
<a name="l00758"></a><a class="code" href="class_CStageBase.html">00758</a> <font class="keyword">class </font><a class="code" href="class_CStageBase.html">CStageBase</a> : <font class="keyword">public</font> <a class="code" href="class_CGoluahObject.html">CGoluahObject</a>
00759 {
00760 <font class="keyword">public</font>:
00761     <a class="code" href="class_CStageBase.html#a0">CStageBase</a>(<a class="code" href="class_SDI_STAGEINFO2.html">SDI_STAGEINFO2</a> *info);
00762     <font class="keyword">virtual</font> <a class="code" href="class_CStageBase.html#a1">~CStageBase</a>();
00763 
00767     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_CStageBase.html#a2">InitializeStage</a>() = 0;
00768 
00775     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_CStageBase.html#d0">SetupStageDLL</a>(<a class="code" href="class_SDI_STAGEINFO2.html">SDI_STAGEINFO2</a> *info);
00776 
00777 <font class="keyword">protected</font>:
<a name="l00782"></a><a class="code" href="class_CStageBase.html#b0">00782</a>     <font class="keyword">virtual</font> DWORD <a class="code" href="class_CBulletBase.html#a7">Draw</a>()<font class="keyword"></font>{<font class="keywordflow">return</font> TRUE;}
00783 };
00784 
00785 
<a name="l00792"></a><a class="code" href="gobjbase.h.html#a50">00792</a> <font class="preprocessor">#define SET_STAGEINFO(Type) \
</font>00793 <font class="preprocessor"></font><font class="keyword">extern</font> <font class="stringliteral">"C"</font> BOOL StageInfo(LPVOID info)<font class="keyword"> </font>{\
00794     ((<a class="code" href="class_SDI_STAGEINFO.html">SDI_STAGEINFO</a>*)info)-&gt;ver = SDI_VERSION;\
00795     <font class="keywordflow">return</font> TRUE;\
00796 }\
00797 <font class="keyword">extern</font> <font class="stringliteral">"C"</font> DWORD CreateStage(PVOID info)<font class="keyword"> </font>{\
00798     CStage::SetupStageDLL((<a class="code" href="class_SDI_STAGEINFO2.html">SDI_STAGEINFO2</a>*)info);\
00799     Type* pstgobj = <font class="keyword">new</font> Type((<a class="code" href="class_SDI_STAGEINFO2.html">SDI_STAGEINFO2</a>*)info);\
00800     pstgobj-&gt;InitializeStage();\
00801     <font class="keywordflow">return</font>(pstgobj-&gt;GetObjectID());\
00802 }
00803 
</div></pre><hr><address><small>Generated at Sun Apr 18 18:28:05 2004 for CharacterDLLTemplate by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.0 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2000</small></address>
</body>
</html>
